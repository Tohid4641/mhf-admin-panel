(this.webpackJsonpmla=this.webpackJsonpmla||[]).push([[10],{1098:function(e,t,a){},1117:function(e,t,a){"use strict";a.r(t);var n=a(12),c=a(13),l=a(7),s=a(16),o=a(15),i=a(0),r=a.n(i),m=a(22),d=a(25),u=a(837),h=a(829),f=a(830),p=a(831),g=a(832),E=a(822),N=a(823),b=a(824),v=a(825),S=a(826),C=a(11),w=a(3),y=a.n(w),O=a(18),k=a.n(O),F=(a(1098),function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).getContacts=function(e){var t=Object(l.a)(c);t.setState({fetchingDetails:!0}),y.a.all([C.a.getContactList("Event",e)]).then((function(e){if(e[0]){var a=e[0].data;if(a.status){if(a.data){var n=a.data.map((function(e,t){return{id:e._id,sNo:t,firstName:e.firstName,role:e.role,mobileNo:e.mobileNo,email:e.email}}));t.setState({contacts:n})}t.setState({Success_msg:""})}else t.setState({apiError:a})}t.setState({fetchingDetails:!1})})).catch((function(e){console.log(e),e.message&&console.log("An error occurred in change Password")}))},c.uploadFormatter=function(e,t){return r.a.createElement("div",{className:"mlace-head"},r.a.createElement(m.c,{to:c.props.match.path+"/update/"+t.id},r.a.createElement("i",{className:"fa fa-edit mlac-edit"})),"\xa0\xa0\xa0",r.a.createElement("i",{className:"fa fa-trash mlac-delete",style:{cursor:"pointer"},onClick:function(){c.toggle(t.id)}}))},c.deleteContactHeadService=function(){var e=Object(l.a)(c);e.setState({authenticating:!0,msg:!c.state.msg});var t="";c.props.location.pathname.indexOf("serviceheads")>-1&&(t="headOfService"),c.setState({authenticating:!0}),y.a.all([C.a.deleteContactHeadService(c.state.contactid,t)]).then((function(t){if(t[0]){var a=t[0].data;a.status?(e.setState({apiSuccess:"Contact deleted successfully "}),setTimeout((function(){return window.location.reload()}),2e3)):e.setState({apiError:a.msg})}e.setState({authenticating:!1})})).catch((function(e){console.log(e),e.message&&console.log("An error occurred in change Password")}))},c.updateContact=function(e,t){return r.a.createElement(m.c,{to:c.props.match.path+"/update/"+e.id},t)},c.formatName=function(e,t){return r.a.createElement(m.c,{to:c.props.match.path+"/"+t.id},e)},c.state={contacts:[],fetchingDetails:!1,msg:!0,apiSuccess:"",modal:!1,contactid:"",authenticating:!1},c.toggle=c.toggle.bind(Object(l.a)(c)),c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getContacts(this.props.match.id)}},{key:"toggle",value:function(e){e&&this.setState({contactid:e}),this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this.props.match,t=this.state,a=t.fetchingDetails,n=t.authenticating,c=t.apiSuccess;return r.a.createElement("div",{className:"col-span-12 mla-contacts"},r.a.createElement("div",{className:"intro-y col-span-12"},r.a.createElement("div",{className:"intro-y flex items-end mt-10 mb-10"},r.a.createElement("h2",{className:"text-lg text-black font-medium"},r.a.createElement(k.a,{content:"contact"})),r.a.createElement(m.c,{to:e.path+"/add",className:"ml-auto flex "}," ",r.a.createElement(k.a,{content:"add"}))),r.a.createElement(u.a,{isOpen:this.state.modal,style:{marginTop:"0px",marginLeft:"0px"}},r.a.createElement(h.a,{style:{backgroundColor:"#253c80",color:"white"},toggle:this.toggle},"Confimation"," "),r.a.createElement(f.a,null,this.state.msg&&r.a.createElement("p",null,"A"," ",r.a.createElement(k.a,{content:"are you sure you want to delete this contact"})),c&&r.a.createElement("div",{className:"errormsg"},r.a.createElement(p.a,{color:"success"},c))),r.a.createElement(g.a,null,n?r.a.createElement("i",{className:"fa fa-spin fa-refresh authentication-loading"}):r.a.createElement(E.a,{className:" btn btn-primary ",color:"danger",onClick:this.deleteContactHeadService},r.a.createElement("span",{className:"text-white"}," ",r.a.createElement(k.a,{content:"delete"}))))),r.a.createElement(N.a,{className:"intro-y"},a?r.a.createElement("i",{className:"fa fa-spin fa-refresh initial_loading"}):r.a.createElement(b.a,{sm:!0,md:!0,lg:12,className:"mb-30"},r.a.createElement(v.a,{className:"card-statistics h-100"},r.a.createElement(S.a,null,r.a.createElement(d.BootstrapTable,{data:this.state.contacts,pagination:!0,striped:!0,condensed:!0,search:!0},r.a.createElement(d.TableHeaderColumn,{width:"50",dataField:"sNo",isKey:!0}," ",r.a.createElement(k.a,{content:"sNo"})),r.a.createElement(d.TableHeaderColumn,{width:"100",dataField:"firstName",dataFormat:this.formatName}," ",r.a.createElement(k.a,{content:"name"})),r.a.createElement(d.TableHeaderColumn,{width:"100",dataField:"role"}," ",r.a.createElement(k.a,{content:"designation"})),r.a.createElement(d.TableHeaderColumn,{width:"100",dataField:"mobileNo"}," ",r.a.createElement(k.a,{content:"contact no"})),r.a.createElement(d.TableHeaderColumn,{width:"100",dataField:"email"}," ",r.a.createElement(k.a,{content:"email"})),r.a.createElement(d.TableHeaderColumn,{width:"100",dataFormat:this.uploadFormatter}," ",r.a.createElement(k.a,{content:"update"})))))))))}}]),a}(r.a.Component));t.default=F}}]);
//# sourceMappingURL=10.5334da3b.chunk.js.map