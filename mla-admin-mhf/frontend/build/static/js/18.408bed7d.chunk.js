(this.webpackJsonpmla=this.webpackJsonpmla||[]).push([[18],{1095:function(e,a,t){},1114:function(e,a,t){"use strict";t.r(a);var s=t(19),l=t(12),n=t(13),i=t(7),o=t(16),c=t(15),r=t(0),m=t.n(r),d=(t(1095),t(22)),u=t(823),p=t(824),g=t(825),f=t(826),h=t(837),k=t(833),E=t(829),L=t(830),b=t(831),S=t(827),v=t(828),x=t(834),N=t(822),M=t(3),y=t.n(M),P=t(27),O=t(11),w=t(18),j=t.n(w),D=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).getProfile=function(e){var a=Object(i.a)(n);y.a.all([O.a.getProfile(n.props.match.params.profile_id)]).then((function(e){if(e[0]){var t=e[0].data;t.status?(t.data&&a.setState({profileDetails:t.data}),a.setState({Success_msg:""})):a.setState({apiError:t})}})).catch((function(e){console.log(e),e.message&&console.log("An error occurred in change Password")}))},n.socialMediaLinkings=function(){var e=Object(i.a)(n);y.a.all([O.a.socialMediaLinkings()]).then((function(a){if(a[0]){var t=a[0].data;if(t.status){var s=[];t.data&&(s=t.data);var l=[];s.map((function(e){return l[e.socialMediaType]=e,!0})),e.setState({Success_msg:"",socialLinks:l})}else e.setState({apiError:t})}})).catch((function(e){console.log(e),e.message&&console.log("An error occurred in change Password")}))},n.updateSocial=function(e){var a=n.state.socialLinks;n.setState({selectedSocialLink:a[e],selectedType:e}),a[e]?n.setState({linkOperation:"update",socialLink:a[e].socialMediaTypeUrl}):n.setState({linkOperation:"insert"}),n.toggleSocialLinkModal()},n.toggleSocialLinkModal=function(){n.setState({socialLinkModal:!n.state.socialLinkModal})},n.onChange=function(e){n.setState(Object(s.a)({},e.target.name,e.target.value))},n.submitSocialLink=function(e){e.preventDefault();var a=n.state,t=a.linkOperation,s=a.socialLink;s&&""!==s.trim()?(n.setState({errorMsg:""}),"insert"===t?n.insertSocialLink():"update"===t&&n.updateSocialLink()):n.setState({errorMsg:"Link should not be empty"})},n.insertSocialLink=function(){var e=Object(i.a)(n),a=n.state,t=a.selectedType,s=a.socialLink;n.setState({apiInProgress:!0}),y.a.all([O.a.insertSocialMediaLinking(t,s)]).then((function(a){if(a[0]){var t=a[0].data;t.status?(e.setState({socialLink:"",linkOperation:""}),e.toggleSocialLinkModal(),e.socialMediaLinkings()):e.setState({errorMsg:t})}e.setState({apiInProgress:!1})})).catch((function(e){console.log(e),e.message&&console.log("An error occurred in change Password")}))},n.updateSocialLink=function(){var e=Object(i.a)(n),a=n.state,t=a.selectedSocialLink,s=a.selectedType,l=a.socialLink;n.setState({apiInProgress:!0}),y.a.all([O.a.socialMediaLinkingUpdate(t._id,s,l)]).then((function(a){if(a[0]){var t=a[0].data;t.status?(e.setState({socialLink:"",linkOperation:""}),e.toggleSocialLinkModal(),e.socialMediaLinkings()):e.setState({errorMsg:t})}e.setState({apiInProgress:!1})})).catch((function(e){console.log(e),e.message&&console.log("An error occurred in change Password")}))},n.state={profileDetails:[],socialLinks:{},socialModal:!1,selectedType:"",socialLink:"",errorMsg:"",apiInProgress:!1},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.getProfile(this.props.match.profile_id),this.socialMediaLinkings(),console.log(this.props.match.path._id)}},{key:"render",value:function(){var e=this.props.match,a=this.state,t=a.selectedType,s=a.errorMsg,l=a.apiInProgress;return m.a.createElement("div",{className:"col-span-12 mla-profile"},m.a.createElement("div",{className:"col-span-12 xxl:col-span-9"},m.a.createElement("div",{className:"intro-y flex items-end mt-10 mb-10"},m.a.createElement("h2",{className:"text-lg text-black font-medium"},m.a.createElement(j.a,{content:"profile"})),m.a.createElement(d.c,{to:e.path+"/update",className:"ml-auto flex "}," ",m.a.createElement(j.a,{content:"update"})," "))),m.a.createElement(u.a,null,m.a.createElement(p.a,{sm:!0,md:!0,lg:12,className:"mb-30"},m.a.createElement(g.a,{className:"card-statistics h-100"},m.a.createElement(f.a,null,m.a.createElement("div",{className:"intro-y box px-5 "},m.a.createElement("div",{className:"flex flex-col lg:flex-row border-b border-gray-200 pb-5 -mx-5"},m.a.createElement("div",{className:"flex flex-1 px-5 items-center justify-center lg:justify-start"},m.a.createElement("div",{className:"w-20 h-20 sm:w-24 sm:h-24 flex-none lg:w-32 lg:h-32 image-fit relative"},this.state.profileDetails.mlaPhoto&&""!==this.state.profileDetails.mlaPhoto&&m.a.createElement("img",{alt:" ",className:"rounded-full",src:this.props.config.fileBasicPath+this.state.profileDetails.mlaPhoto})),m.a.createElement("div",{className:"ml-5"},m.a.createElement("div",{className:"w-24 sm:w-40 truncate sm:whitespace-normal font-medium text-lg"},this.state.profileDetails.fullName))),m.a.createElement("div",{className:"flex mt-6 lg:mt-0 items-center lg:items-start flex-1 flex-col justify-center text-gray-600 px-5 border-l border-r border-gray-200 border-t lg:border-t-0 pt-5 lg:pt-0"}))),m.a.createElement("div",{className:"intro-y news p-5 box mt-8"},m.a.createElement("h2",{className:"intro-y font-medium text-xl sm:text-2xl"},m.a.createElement(j.a,{content:"about"}))," ",m.a.createElement("br",null),m.a.createElement("div",{className:"intro-y text-justify leading-relaxed"},m.a.createElement("p",{className:"mb-5"},this.state.profileDetails.aboutMLA))))))),m.a.createElement(h.a,{isOpen:this.state.socialLinkModal,className:"social-media-modal"},m.a.createElement(k.a,{onSubmit:this.submitSocialLink,className:""},m.a.createElement(E.a,{toggle:this.toggleSocialLinkModal,className:"design-modal-header"},m.a.createElement("p",null,"Update ",t)),m.a.createElement(L.a,null,""!==s&&m.a.createElement("div",{className:"errormsg"},m.a.createElement(b.a,{color:"danger"},s)),m.a.createElement(u.a,null,m.a.createElement(p.a,{md:12},m.a.createElement(S.a,null,m.a.createElement(v.a,null," Link "),m.a.createElement(x.a,{className:"input-name",type:"text",onChange:this.onChange,value:this.state.socialLink,name:"socialLink",id:"socialLink",placeholder:"Link"})))),m.a.createElement(u.a,{className:"mt-4"},m.a.createElement(p.a,{className:"add-button"},l?m.a.createElement("i",{className:"fa fa-spin fa-refresh"}):m.a.createElement(N.a,{type:"submit",color:"primary",className:"submit-login float-right btn-s"},m.a.createElement("span",{className:"text-white"}," Update"))))))))}}]),t}(m.a.Component);a.default=Object(P.b)((function(e){return{config:e.auth.config}}),(function(e){return{}}))(D)}}]);
//# sourceMappingURL=18.408bed7d.chunk.js.map