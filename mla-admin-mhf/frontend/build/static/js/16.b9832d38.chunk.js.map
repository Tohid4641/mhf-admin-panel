{"version":3,"sources":["components/containers/home/home.js"],"names":["Home","props","getStats","refresh","thisView","setState","fetchingData","axios","all","adminService","then","res","resData","data","status","allData","doctorCount","doctors","map","eachCount","index","_id","count","sNo","hospitalCount","hospitals","eventsCount","events","console","log","usersCount","memberShip","memberCountRejected","memberCountApproved","memberCountPending","Success_msg","apiError","catch","message","state","this","className","content","to","class","aria-hidden","React","Component"],"mappings":"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","file":"static/js/16.b9832d38.chunk.js","sourcesContent":["import React from 'react';\nimport './home.scss';\nimport axios from 'axios';\nimport adminService from '../../services/adminService';\nimport PageLoading from '../../elements/pageLoading/pageLoading';\nimport Translate from 'react-translate-component';\nimport { Link } from 'react-router-dom';\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      allData: {},\n      doctorCount: '0',\n      hospitalCount: '0',\n      eventsCount: '0',\n      memberCountRejected: '0',\n      memberCountApproved: '0',\n      memberCountPending: '0'\n    };\n  }\n\n  componentDidMount() {\n    this.getStats('refresh');\n  }\n\n  getStats = (refresh) => {\n    var thisView = this;\n    if (refresh === 'refresh') thisView.setState({ fetchingData: true });\n    axios\n      .all([adminService.getStats()])\n      .then(function (res) {\n        if (res[0]) {\n          let resData = res[0].data;\n          if (resData.status) {\n            let allData = resData.data ? resData.data : {};\n            let doctorCount = allData && allData.doctors ? allData.doctors : [];\n            doctorCount = doctorCount.map((eachCount, index) => {\n              if (eachCount && eachCount._id === 'ACTIVE') {\n                thisView.setState({ doctorCount: eachCount.count });\n              }\n              return {\n                ...eachCount,\n                sNo: 1 + index\n              };\n            });\n\n            let hospitalCount =\n              allData && allData.hospitals ? allData.hospitals : [];\n            hospitalCount = hospitalCount.map((eachCount, index) => {\n              if (eachCount && eachCount._id === 'ACTIVE') {\n                thisView.setState({ hospitalCount: eachCount.count });\n              }\n              return {\n                ...eachCount,\n                sNo: 1 + index\n              };\n            });\n\n            let eventsCount = allData && allData.events ? allData.events : [];\n            eventsCount = eventsCount.map((eachCount, index) => {\n              if (eachCount && eachCount._id === 'Event') {\n                thisView.setState({ eventsCount: eachCount.count });\n                console.log(eachCount);\n              }\n              return {\n                ...eachCount,\n                sNo: 1 + index\n              };\n            });\n\n            let usersCount =\n              allData && allData.memberShip ? allData.memberShip : [];\n            usersCount = usersCount.map((eachCount, index) => {\n              if (eachCount && eachCount._id === 'Rejected') {\n                thisView.setState({ memberCountRejected: eachCount.count });\n              }\n              if (eachCount && eachCount._id === 'Approved') {\n                thisView.setState({ memberCountApproved: eachCount.count });\n              }\n              if (eachCount && eachCount._id === 'Pending') {\n                thisView.setState({ memberCountPending: eachCount.count });\n              }\n              return {\n                ...eachCount,\n                sNo: 1 + index\n              };\n            });\n            thisView.setState({ Success_msg: '' });\n          } else {\n            thisView.setState({ apiError: resData });\n          }\n        }\n        thisView.setState({ fetchingData: false });\n      })\n      .catch(function (res) {\n        console.log(res);\n        if (res.message) console.log('An error occurred in Fetch Counts');\n      });\n  };\n  render() {\n    const {\n      allData,\n      fetchingData,\n      doctorCount,\n      hospitalCount,\n      eventsCount,\n      memberCountRejected,\n      memberCountApproved,\n      memberCountPending\n    } = this.state;\n    return (\n      <div className='col-span-12 mla-home'>\n        <div className='col-span-12 xxl:col-span-9'>\n          <div className='intro-y flex items-end mt-10'>\n            <h2 className='text-lg text-black font-medium'>\n              <Translate content='reports' />\n            </h2>\n          </div>\n          <div className='intro-y grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-5'>\n            {!fetchingData ? (\n              <>\n                <Link to={'/membership'} className='tiles-link'>\n                  <div className='intro-y'>\n                    <div className='report-box zoom-in'>\n                      <div className='box p-3'>\n                        <div className='flex justify-content-between '>\n                          {' '}\n                          <i class='fa fa-user-o fa-2x' aria-hidden='true'></i>\n                          <span className='text-align-right text-base tiles-data'>\n                            {' '}\n                            <div className='td-approved'>\n                              <span>Approved</span><span>{memberCountApproved}</span>\n                            </div>\n                            <div className='td-rejected'>\n                              <span>Rejected</span><span>{memberCountRejected}</span>\n                            </div>\n                            <div className='td-pending'>\n                              <span>Pending</span><span>{memberCountPending}</span>\n                            </div>\n                          </span>\n                        </div>\n                        <div className=' font-bold leading-8 mt-6'>\n                          \n                        </div>\n                        <div className='text-base text-gray-600'>\n                          <Translate content='members' />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n                <Link to={'/events'} className='tiles-link'>\n                  <div className='intro-y'>\n                    <div className='report-box zoom-in'>\n                      <div className='box p-3'>\n                        <div className='flex'>\n                          <i\n                            class='fa fa-calendar-o fa-2x'\n                            aria-hidden='true'\n                          ></i>{' '}\n                        </div>\n                        <div className='text-2xl font-bold leading-8 mt-6'>\n                          {eventsCount}\n                        </div>\n                        <div className='text-base text-gray-600'>\n                          <Translate content='Activities' />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n                <Link to={'/hospitals-facilities'} className='tiles-link'>\n                  <div className='intro-y'>\n                    <div className='report-box zoom-in'>\n                      <div className='box p-3'>\n                        <div className='flex'>\n                          {' '}\n                          <i\n                            class='fa fa-hospital-o fa-2x'\n                            aria-hidden='true'\n                          ></i>\n                        </div>\n                        <div className='text-2xl font-bold leading-8 mt-6'>\n                          {hospitalCount}\n                        </div>\n                        <div className='text-base text-gray-600'>\n                          <Translate content='hospitals' />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n\n                <Link to={'/doctors'} className='tiles-link'>\n                  <div className='intro-y'>\n                    <div className='report-box zoom-in'>\n                      <div className='box p-3'>\n                        <div className='flex'>\n                          <i class='fa fa-user-md fa-2x' aria-hidden='true'></i>\n                        </div>\n                        <div className='text-2xl font-bold leading-8 mt-6'>\n                          {doctorCount}\n                        </div>\n                        <div className='text-base text-gray-600'>\n                          <Translate content='doctors' />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n              </>\n            ) : (\n              <PageLoading />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Home;\n"],"sourceRoot":""}